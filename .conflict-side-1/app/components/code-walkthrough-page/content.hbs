<div class="bg-white dark:bg-gray-950">
  <div class="container mx-auto lg:max-w-(--breakpoint-lg) px-3 md:px-6">
    <div class="flex flex-col-reverse md:flex-row">
      <div class="md:pr-8 pt-10 pb-20 w-full min-w-0">
        {{#if @codeWalkthrough.introductionMarkdown}}
          <div class="leading-7 prose dark:prose-invert mb-4">
            {{markdown-to-html @codeWalkthrough.introductionMarkdown}}
          </div>
        {{/if}}

        {{! @glint-expect-error: not ts-ified yet }}
        <CodeWalkthrough @model={{@codeWalkthrough}} />

        {{#if @codeWalkthrough.conclusionMarkdown}}
          <div class="leading-7 prose dark:prose-invert mt-8 mb-8">
            {{markdown-to-html @codeWalkthrough.conclusionMarkdown}}
          </div>
        {{/if}}

        {{#if @codeWalkthrough.hackerNewsUrl}}
          <div class="h-px border-t border-gray-200 dark:border-gray-800 mb-6"></div>
          {{! @glint-expect-error: not ts-ified yet }}
          <DiscussOnHnButton @link={{@codeWalkthrough.hackerNewsUrl}} />
        {{/if}}
      </div>

      <div class="border-b border-gray-200 dark:border-gray-800 md:border-b-0 md:border-l md:pl-8 shrink-0 w-full md:w-64 py-6 md:py-10">
        <CodeWalkthroughPage::MetadataItem @icon="clock" class="mb-3">
          <span class="font-semibold">3 min</span>
          reading time
        </CodeWalkthroughPage::MetadataItem>
        <CodeWalkthroughPage::MetadataItem @icon="calendar">
          updated
          <span class="font-semibold">
            {{#if @codeWalkthrough.updatedAt}}
              {{date-from-now @codeWalkthrough.updatedAt}}
            {{else}}
              1 day ago
            {{/if}}
          </span>
        </CodeWalkthroughPage::MetadataItem>

        {{#if @codeWalkthrough.hackerNewsUrl}}
          <div class="mt-6 hidden md:block">
            {{! @glint-expect-error: not ts-ified yet }}
            <DiscussOnHnButton @link={{@codeWalkthrough.hackerNewsUrl}} />
          </div>
        {{/if}}
      </div>
    </div>
  </div>
</div>