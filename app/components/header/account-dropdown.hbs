<BasicDropdown @horizontalPosition="right" as |dd|>
  <dd.Trigger>
    <div class="text-gray-600 flex items-center justify-between py-3 outline-none w-full sm:w-auto" data-test-account-dropdown-trigger>
      <span class="mr-1 text-sm md:text-xs">
        {{this.currentUser.username}}
      </span>

      {{svg-jar "chevron-down" class=(concat "fill-current w-5 transform transition-all " (if dd.isOpen "text-teal-500" ""))}}
    </div>
  </dd.Trigger>
  <dd.Content>
    <div class="py-2 border rounded shadow text-sm text-gray-600 max-w-xl bg-white" data-test-account-dropdown-content>
      {{#if this.currentUser.isTeamAdmin}}
        <div
          class="px-3 py-2 hover:bg-gray-50 flex items-center justify-between group"
          role="button"
          {{on "click" (fn this.handleManageTeamClick dd.actions this.currentUser.managedTeams.firstObject)}}
        >
          <span class="mr-4">
            Manage Team
          </span>
          {{svg-jar "user-group" class="w-5 text-gray-300 group-hover:text-teal-500"}}
        </div>
      {{/if}}
      {{#if this.currentUser.hasActiveSubscription}}
        <div
          class="px-3 py-2 hover:bg-gray-50 flex items-center justify-between group"
          role="button"
          {{on "click" (fn this.handleManageSubscriptionClick dd.actions)}}
        >
          <span class="mr-4">
            Manage Subscription
          </span>
          {{#if this.isCreatingBillingSession}}
            <svg class="animate-spin ml-3 w-5 text-teal-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
              <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
              <path
                class="opacity-75"
                fill="currentColor"
                d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"
              ></path>
            </svg>
          {{else}}
            {{svg-jar "credit-card" class="w-5 text-gray-300 group-hover:text-teal-500"}}
          {{/if}}
        </div>
      {{else}}
        {{!--
        <div class="px-3 py-2 hover:bg-gray-50 flex items-center justify-between group" role="button" {{on "click" (fn this.handleSubscribeClick dd.actions)}}>
          <span class="mr-4">
            Subscribe
          </span>
          {{svg-jar "credit-card" class="w-5 text-gray-300 group-hover:text-teal-500"}}
        </div>
        --}}
      {{/if}}

      <div
        class="px-3 py-2 hover:bg-gray-50 flex items-center justify-between group"
        role="button"
        {{on "click" (fn this.handleGetHelpClick dd.actions)}}
      >
        <span class="mr-4">
          Get Help
        </span>
        {{svg-jar "question-mark-circle" class="w-5 text-gray-300 group-hover:text-teal-500"}}
      </div>
      <div class="px-3 py-2 hover:bg-gray-50 flex items-center justify-between group" role="button" {{on "click" this.handleLogoutClick}}>
        <span class="mr-4">
          Logout
        </span>
        {{svg-jar "logout" class="w-5 text-gray-300 group-hover:text-teal-500"}}
      </div>
    </div>
  </dd.Content>
</BasicDropdown>