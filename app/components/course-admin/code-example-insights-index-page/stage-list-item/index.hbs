<LinkTo
  class="flex items-center justify-between flex-wrap gap-x-6 gap-y-2 py-3 group/stage-list-item hover:bg-gray-50 px-1"
  data-test-version-list-item
  role="button"
  @route="course.stage.code-examples"
  @models={{array @stage.course.slug @stage.slug}}
  ...attributes
>
  <div class="min-w-0">
    <div class="flex items-center flex-wrap gap-2">
      <div class="font-semibold text-sm text-gray-700">{{@stage.name}}</div>
      <svg viewBox="0 0 2 2" class="h-0.5 w-0.5 fill-current text-gray-300">
        <circle cx="1" cy="1" r="1" />
      </svg>
      <CourseAdmin::CodeExampleInsightsIndexPage::StageListItem::Statistic
        @color="green"
        @label="examples"
        @value={{if @stage.communitySolutionsAnalysis @stage.communitySolutionsAnalysis.solutionsCount null}}
      />
    </div>
  </div>
  <div class="flex flex-none items-center gap-x-2">
    <CourseAdmin::CodeExampleInsightsIndexPage::StageListItem::Statistic
      @color="green"
      @label="loc"
      @value={{if
        @stage.communitySolutionsAnalysis
        (if
          @stage.communitySolutionsAnalysis.p50
          @stage.communitySolutionsAnalysis.p50
          (get @stage.communitySolutionsAnalysis.changedLinesCountDistribution "p50")
        )
        null
      }}
    />
    <svg viewBox="0 0 2 2" class="h-0.5 w-0.5 fill-current text-gray-300">
      <circle cx="1" cy="1" r="1" />
    </svg>
    <CourseAdmin::CodeExampleInsightsIndexPage::StageListItem::Statistic
      @color="green"
      @label="upvotes"
      @value={{if @stage.communitySolutionsAnalysis @stage.communitySolutionsAnalysis.scoredSolutionUpvotesCount null}}
    />
    <svg viewBox="0 0 2 2" class="h-0.5 w-0.5 fill-current text-gray-300">
      <circle cx="1" cy="1" r="1" />
    </svg>
    <CourseAdmin::CodeExampleInsightsIndexPage::StageListItem::Statistic
      @color="green"
      @label="downvotes"
      @value={{if @stage.communitySolutionsAnalysis @stage.communitySolutionsAnalysis.scoredSolutionDownvotesCount null}}
    />
  </div>
</LinkTo>