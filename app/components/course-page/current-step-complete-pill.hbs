<div
  class="pointer-events-auto inline-flex flex-wrap items-center justify-center gap-2"
  data-test-current-step-complete-pill
  data-test-completed-step-notice
  ...attributes
>
  <LinkTo
    class="group inline-flex items-center gap-2 whitespace-nowrap rounded-full px-5 py-2.5 bg-green-100 dark:bg-green-950 border border-green-300 dark:border-green-700 dark:hover:border-green-600 shadow-md"
    data-test-next-or-active-step-button
    @route={{this.targetStep.routeParams.route}}
    @models={{this.targetStep.routeParams.models}}
  >
    {{svg-jar "check-circle" class="size-6 fill-green-500 group-hover:fill-green-700 dark:group-hover:fill-green-300 shrink-0"}}

    <span class="text-sm font-medium text-green-800 dark:text-green-200">
      {{if (eq this.currentStep.type "CourseStageStep") "Stage complete" "Step complete"}}
    </span>

    <span class="inline-flex items-center gap-1 text-sm font-semibold text-green-900 dark:text-green-100 underline underline-offset-2">
      <span>{{this.targetStepButtonCopy}}</span>
      {{svg-jar "arrow-right" class="w-3.5 h-3.5 fill-current shrink-0"}}
    </span>
  </LinkTo>

  {{#if this.shouldShowShareProgressButton}}
    <button
      class="inline-flex items-center gap-1.5 whitespace-nowrap rounded-full px-4 py-2 text-sm font-medium bg-green-50 text-green-800 border border-green-200 hover:border-green-400 dark:bg-green-900/40 dark:text-green-200 dark:border-green-700 dark:hover:border-green-600"
      type="button"
      {{on "click" this.handleShareProgressButtonClick}}
      data-test-share-progress-button
    >
      <span>Tell your friends</span>
      {{svg-jar "external-link" class="w-4 h-4 fill-current shrink-0"}}
    </button>
  {{/if}}

  <span class="sr-only">{{this.currentStep.completionNoticeMessage}}</span>

  {{#if this.isShareProgressModalOpen}}
    <ModalBackdrop>
      <CoursePage::ShareProgressModal @onClose={{this.handleShareProgressModalClosed}} @repository={{this.repository}} />
    </ModalBackdrop>
  {{/if}}
</div>