<div {{in-viewport-did-change this.handleScrollMarkerInViewportDidChange}}></div>

<div class="sticky top-0 border-b z-20 {{if this.isSticky 'shadow-sm border-gray-300' 'hidden'}}" data-test-sticky-header ...attributes>
  {{#if this.isSticky}}
    <div class="flex items-center justify-between">
      <CoursePage::Header::TabList
        @course={{@course}}
        @stepList={{@stepList}}
        @currentStep={{@currentStep}}
        @activeStep={{@activeStep}}
        @nextStep={{@nextStep}}
      />

      {{!-- <CoursePage::StepProgressIndicator @step={{@currentStep}} /> --}}
      <div class="flex items-center gap-x-3">
        {{#if (eq @currentStep.type "CourseStageStep")}}
          <div class="flex items-center">
            <div class="inline-flex items-center text-xs font-semibold text-gray-500">
              {{#if this.currentStepAsCourseStageStep.courseStage.primaryExtension}}
                {{this.currentStepAsCourseStageStep.courseStage.primaryExtension.name}}
                <span class="text-gray-300 px-2 inline-flex">&gt;</span>
                Stage
                {{this.currentStepAsCourseStageStep.courseStage.positionWithinExtension}}/{{this.currentStepAsCourseStageStep.courseStage.primaryExtension.stages.length}}
              {{else}}
                Stage
                {{this.currentStepAsCourseStageStep.courseStage.positionWithinCourse}}/{{this.currentStepAsCourseStageStep.courseStage.course.baseStages.length}}
              {{/if}}
            </div>
          </div>
        {{/if}}

        <CoursePage::StepStatusPill @step={{@currentStep}} />
      </div>
    </div>
  {{/if}}
</div>