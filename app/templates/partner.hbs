{{page-title "Partner"}}

<div class="container mx-auto lg:max-w-screen-lg pt-10 pb-48 px-6">
  {{#if this.currentUser.hasJoinedAffiliateProgram}}
    <div class="flex justify-between items-baseline">
      <h1 class="font-semibold text-2xl text-gray-700 mb-5 flex-shrink-0">Referrals</h1>

      <TertiaryButton @size="small">
        <a href="https://docs.codecrafters.io/community/partner-program" target="_blank" rel="noopener noreferrer">
          Partner Docs
        </a>
      </TertiaryButton>
    </div>

    <div class="flex flex-col md:flex-row gap-4">
      <div class="md:basis-2/3">
        <ReferralsPage::AffiliateLinksContainer />
        <ReferralsPage::AffiliateLinkStatsContainer @affiliateLink={{this.affiliateLink}} class="mt-4" />
        <ReferralsPage::EarningsContainer class="mt-4" />
        <ReferralsPage::AffiliateReferredUsersContainer @affiliateLink={{this.affiliateLink}} class="mt-4" />
      </div>

      <ReferralsPage::AffiliateFeatureCards class="md:basis-1/3 flex flex-col gap-4 [&>*:nth-child(2)]:hidden" />
    </div>

    <TestimonialList />
  {{else}}
    <ReferralsPage::JoinPartnerProgramContainer />
  {{/if}}
</div>