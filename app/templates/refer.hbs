{{page-title "Refer"}}

<div class="container mx-auto lg:max-w-screen-lg pt-10 pb-48 px-6">
  {{#if this.currentUser.hasJoinedReferralProgram}}
    <div class="flex justify-between items-baseline">
      <h1 class="font-semibold text-2xl text-gray-700 mb-5 flex-shrink-0">Referrals</h1>
    </div>

    <div class="flex flex-col md:flex-row gap-4">
      <div class="md:basis-2/3">
        <ReferralsPage::ReferralLinksContainer />
        <ReferralsPage::ReferralLinkStatsContainer @freeUsageGrants={{this.model.freeUsageGrants}} @referralLink={{this.referralLink}} class="mt-4" />
        <ReferralsPage::ReferralReferredUsersContainer
          @freeUsageGrants={{this.model.freeUsageGrants}}
          @referralLink={{this.referralLink}}
          class="mt-4"
        />
      </div>

      <ReferralsPage::ReferralFeatureCards class="md:basis-1/3 flex flex-col gap-4 [&>*:nth-child(2)]:hidden" />
    </div>

    {{! @glint-expect-error: not ts-ified yet }}
    <TestimonialList />
  {{else}}
    <ReferralsPage::JoinReferralProgramContainer />
  {{/if}}
</div>